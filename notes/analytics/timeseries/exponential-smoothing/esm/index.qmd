---
title: Exponential Smoothing Models
date: 08/30/2023
categories:
    -   time series
---

Time series data assumes that observations at a certain time point depend on previous observations in time.

| Model   | Formula                                     |
|---------|---------------------------------------------|
| Naive   | $$                                          
           \hat{Y}_{t+h} = Y_t                          
           $$                                           |
| Average | $$                                          
           \hat{Y}_{t+h} = \frac{1}{T}\sum_{t=1}^T Y_t  
           $$                                           |

# Exponential Smoothing

Exponential smoothing takes an average of our data, but uses a *weighted* average instead. Models only require a few parameters.

We cover common types of exponential smoothing:

-   Single
-   Linear / Holt (trend)
-   Holt-Winters (trend and seasonality)

# Single Exponential Smoothing

Single exponential equates the predictions at time $t$ equal to the weighted values of the previous time period along with the previous time period's prediction.

$$
\hat{Y}_{t+1} = \theta Y_t + (1 - \theta)\hat{Y}_t
$$

-   $\hat{Y}_t$ is the estimate of $Y_t$ (weighted average of prev. observations)
-   $0 \leq \theta \leq 1$

$$
\hat{Y}_{t+1} = \theta Y_t + \theta(1 - \theta)Y_{t - 1} + \theta(1 - \theta)^2Y_{t - 2} + \cdots
$$

Weights decrease exponentially as we go further back in time so more weight is put on recent observations.

![Single Exponential Smoothing Weights](images/single-exponential-smoothing-weights.png)

## Component Form

Single ESM can be written in component form:

$$
\hat{Y}_{t+1} = L_t
$$

$$
L_t = \theta Y_t + (1 - \theta)L_{t - 1}
$$

## Parameter Estimation

Typical method for calculating optimal value of $\theta$ in ESM is one-step ahead forecasts.

Value of $\theta$ that minimizes the one-step ahead forecast errors is considered the optimal value:

$$
\text{SSE} = \sum_{t=1}^T (Y_t - \hat{Y}_t)^2
$$

Estimates that are not statistically significant should not be disqualified. Estimates are fine even without normality however normality is needed is trying to construct a confidence interval.

::: {.panel-tabset}
# Python

```{python}
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from statsmodels.tsa.api import ExponentialSmoothing, SimpleExpSmoothing

steel = pd.read_csv(
    "https://raw.githubusercontent.com/sjsimmo2/TimeSeries/master/steel.csv"
)
df = pd.date_range("1/1/1984", "12/1/1991", freq="MS")
steel.set_index(pd.to_datetime(df), inplace=True)

fit = SimpleExpSmoothing(steel["steelshp"]).fit()
fit.params["smoothing_level"]
```

:::