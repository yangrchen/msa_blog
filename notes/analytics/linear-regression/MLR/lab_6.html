<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yang Chen">
<meta name="dcterms.date" content="2023-07-06">

<title>Yang MSA - Lab 6</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../favicon.ico" rel="icon">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Yang MSA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../notes/index.html"> 
<span class="menu-text">Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/yangrchen"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Lab 6</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">analytics</div>
                <div class="quarto-category">linear regression</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Yang Chen </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 6, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#section" id="toc-section" class="nav-link active" data-scroll-target="#section"><span class="header-section-number">1</span> 1</a>
  <ul class="collapse">
  <li><a href="#a" id="toc-a" class="nav-link" data-scroll-target="#a"><span class="header-section-number">1.1</span> a</a></li>
  <li><a href="#b" id="toc-b" class="nav-link" data-scroll-target="#b"><span class="header-section-number">1.2</span> b</a></li>
  <li><a href="#c" id="toc-c" class="nav-link" data-scroll-target="#c"><span class="header-section-number">1.3</span> c</a></li>
  <li><a href="#d" id="toc-d" class="nav-link" data-scroll-target="#d"><span class="header-section-number">1.4</span> d</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="section" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 1</h1>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(AppliedPredictiveModeling)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(FuelEconomy)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cars2010)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,107
Columns: 14
$ EngDispl            &lt;dbl&gt; 4.7, 4.7, 4.2, 4.2, 5.2, 5.2, 2.0, 6.0, 3.0, 3.0, …
$ NumCyl              &lt;int&gt; 8, 8, 8, 8, 10, 10, 4, 12, 6, 6, 6, 6, 16, 8, 8, 8…
$ Transmission        &lt;fct&gt; AM6, M6, M6, AM6, AM6, M6, S6, S6, S6, M6, S7, M6,…
$ FE                  &lt;dbl&gt; 28.0198, 25.6094, 26.8000, 25.0451, 24.8000, 23.90…
$ AirAspirationMethod &lt;fct&gt; NaturallyAspirated, NaturallyAspirated, NaturallyA…
$ NumGears            &lt;int&gt; 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 6, 7, 6, 6, 6, 6,…
$ TransLockup         &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0,…
$ TransCreeperGear    &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ DriveDesc           &lt;fct&gt; TwoWheelDriveRear, TwoWheelDriveRear, AllWheelDriv…
$ IntakeValvePerCyl   &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1,…
$ ExhaustValvesPerCyl &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1,…
$ CarlineClassDesc    &lt;fct&gt; 2Seaters, 2Seaters, 2Seaters, 2Seaters, 2Seaters, …
$ VarValveTiming      &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0,…
$ VarValveLift        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0,…</code></pre>
</div>
</div>
<section id="a" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="a"><span class="header-section-number">1.1</span> a</h2>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cars2010 <span class="ot">&lt;-</span> cars2010 <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="sc">!</span><span class="fu">c</span>(EngDispl, FE), as.factor))</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>cars_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(FE <span class="sc">~</span> ., <span class="at">data =</span> cars2010)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cars_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = FE ~ ., data = cars2010)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.6399  -1.6583   0.0582   1.5708  21.6002 

Coefficients: (5 not defined because of singularities)
                                                 Estimate Std. Error t value
(Intercept)                                      35.95655    3.34991  10.734
EngDispl                                         -2.24571    0.26269  -8.549
NumCyl3                                          15.88136    5.11001   3.108
NumCyl4                                           7.76711    3.94430   1.969
NumCyl5                                           4.89858    3.97620   1.232
NumCyl6                                           4.19528    3.94208   1.064
NumCyl8                                           2.51528    3.98438   0.631
NumCyl10                                         -0.01541    4.13445  -0.004
NumCyl12                                         -1.02329    4.11855  -0.248
NumCyl16                                         -0.31250    5.42018  -0.058
TransmissionA4                                   -6.93754    2.27354  -3.051
TransmissionA5                                   -6.53146    2.27928  -2.866
TransmissionA6                                   -4.88712    2.27829  -2.145
TransmissionA7                                    5.70476    2.44239   2.336
TransmissionAM6                                  -9.48575    2.46325  -3.851
TransmissionAM7                                   0.59731    2.65233   0.225
TransmissionAV                                   -4.40251    2.28451  -1.927
TransmissionAVS6                                 -6.72835    2.41754  -2.783
TransmissionM5                                   -7.00105    2.27746  -3.074
TransmissionM6                                   -7.03693    2.26627  -3.105
TransmissionS4                                  -10.42310    2.42863  -4.292
TransmissionS5                                   -7.17879    2.30519  -3.114
TransmissionS6                                   -5.09671    2.26315  -2.252
TransmissionS7                                    4.08689    2.51141   1.627
TransmissionS8                                   -4.61764    4.02547  -1.147
AirAspirationMethodSupercharged                  -1.66003    0.78945  -2.103
AirAspirationMethodTurbocharged                  -1.12911    0.32214  -3.505
NumGears4                                              NA         NA      NA
NumGears5                                              NA         NA      NA
NumGears6                                              NA         NA      NA
NumGears7                                       -10.74200    3.27897  -3.276
NumGears8                                         1.78308    3.19710   0.558
TransLockup1                                     -0.89442    0.35715  -2.504
TransCreeperGear1                                -1.04006    0.49553  -2.099
DriveDescFourWheelDrive                          -0.45145    0.43461  -1.039
DriveDescParttimeFourWheelDrive                  -0.29399    1.06503  -0.276
DriveDescTwoWheelDriveFront                       4.31845    0.37701  11.455
DriveDescTwoWheelDriveRear                        1.19634    0.37255   3.211
IntakeValvePerCyl1                                6.33644    3.32150   1.908
IntakeValvePerCyl2                                4.88952    3.21060   1.523
IntakeValvePerCyl3                                     NA         NA      NA
ExhaustValvesPerCyl1                              1.54229    0.75433   2.045
ExhaustValvesPerCyl2                                   NA         NA      NA
CarlineClassDesc2Seaters                          2.85693    1.17833   2.425
CarlineClassDescCompactCars                       3.78908    1.09963   3.446
CarlineClassDescLargeCars                         2.56219    1.13079   2.266
CarlineClassDescMidsizeCars                       3.39390    1.09686   3.094
CarlineClassDescMinicompactCars                   3.63416    1.19375   3.044
CarlineClassDescSmallPickupTrucks2WD             -1.85140    1.25181  -1.479
CarlineClassDescSmallPickupTrucks4WD             -0.95072    1.35268  -0.703
CarlineClassDescSmallStationWagons                2.20724    1.13608   1.943
CarlineClassDescSpecialPurposeVehicleminivan2WD  -2.07995    1.36307  -1.526
CarlineClassDescSpecialPurposeVehicleSUV2WD      -1.51997    1.10807  -1.372
CarlineClassDescSpecialPurposeVehicleSUV4WD      -0.56991    1.12243  -0.508
CarlineClassDescStandardPickupTrucks2WD          -1.74467    1.27006  -1.374
CarlineClassDescStandardPickupTrucks4WD          -1.94205    1.30286  -1.491
CarlineClassDescSubcompactCars                    3.43057    1.11242   3.084
CarlineClassDescVansCargoTypes                   -4.07446    1.51702  -2.686
CarlineClassDescVansPassengerType                -4.27396    1.95092  -2.191
VarValveTiming1                                   0.15943    0.29071   0.548
VarValveLift1                                     0.82579    0.30704   2.690
                                                Pr(&gt;|t|)    
(Intercept)                                      &lt; 2e-16 ***
EngDispl                                         &lt; 2e-16 ***
NumCyl3                                         0.001935 ** 
NumCyl4                                         0.049193 *  
NumCyl5                                         0.218234    
NumCyl6                                         0.287469    
NumCyl8                                         0.527992    
NumCyl10                                        0.997028    
NumCyl12                                        0.803827    
NumCyl16                                        0.954034    
TransmissionA4                                  0.002335 ** 
TransmissionA5                                  0.004245 ** 
TransmissionA6                                  0.032175 *  
TransmissionA7                                  0.019693 *  
TransmissionAM6                                 0.000125 ***
TransmissionAM7                                 0.821867    
TransmissionAV                                  0.054234 .  
TransmissionAVS6                                0.005480 ** 
TransmissionM5                                  0.002166 ** 
TransmissionM6                                  0.001953 ** 
TransmissionS4                                  1.94e-05 ***
TransmissionS5                                  0.001894 ** 
TransmissionS6                                  0.024526 *  
TransmissionS7                                  0.103967    
TransmissionS8                                  0.251599    
AirAspirationMethodSupercharged                 0.035723 *  
AirAspirationMethodTurbocharged                 0.000476 ***
NumGears4                                             NA    
NumGears5                                             NA    
NumGears6                                             NA    
NumGears7                                       0.001087 ** 
NumGears8                                       0.577155    
TransLockup1                                    0.012420 *  
TransCreeperGear1                               0.036067 *  
DriveDescFourWheelDrive                         0.299167    
DriveDescParttimeFourWheelDrive                 0.782571    
DriveDescTwoWheelDriveFront                      &lt; 2e-16 ***
DriveDescTwoWheelDriveRear                      0.001362 ** 
IntakeValvePerCyl1                              0.056702 .  
IntakeValvePerCyl2                              0.128077    
IntakeValvePerCyl3                                    NA    
ExhaustValvesPerCyl1                            0.041146 *  
ExhaustValvesPerCyl2                                  NA    
CarlineClassDesc2Seaters                        0.015495 *  
CarlineClassDescCompactCars                     0.000592 ***
CarlineClassDescLargeCars                       0.023664 *  
CarlineClassDescMidsizeCars                     0.002026 ** 
CarlineClassDescMinicompactCars                 0.002390 ** 
CarlineClassDescSmallPickupTrucks2WD            0.139447    
CarlineClassDescSmallPickupTrucks4WD            0.482307    
CarlineClassDescSmallStationWagons              0.052300 .  
CarlineClassDescSpecialPurposeVehicleminivan2WD 0.127330    
CarlineClassDescSpecialPurposeVehicleSUV2WD     0.170443    
CarlineClassDescSpecialPurposeVehicleSUV4WD     0.611738    
CarlineClassDescStandardPickupTrucks2WD         0.169828    
CarlineClassDescStandardPickupTrucks4WD         0.136365    
CarlineClassDescSubcompactCars                  0.002097 ** 
CarlineClassDescVansCargoTypes                  0.007349 ** 
CarlineClassDescVansPassengerType               0.028690 *  
VarValveTiming1                                 0.583517    
VarValveLift1                                   0.007269 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.14 on 1051 degrees of freedom
Multiple R-squared:  0.8333,    Adjusted R-squared:  0.8246 
F-statistic: 95.55 on 55 and 1051 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<ul>
<li>The F p-value is significant meaning that our overall model is significant in predicting <code>FE</code></li>
<li>The 13 variables explain 83.33 percent of variation in fuel economy</li>
</ul>
</section>
<section id="b" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="b"><span class="header-section-number">1.2</span> b</h2>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(cars_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: model has aliased coefficients
      sums of squares computed by model comparison</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Anova Table (Type II tests)

Response: FE
                     Sum Sq   Df F value    Pr(&gt;F)    
EngDispl              720.6    1 73.0842 &lt; 2.2e-16 ***
NumCyl                889.6    6 15.0374 &lt; 2.2e-16 ***
Transmission          707.7   12  5.9813 3.553e-10 ***
AirAspirationMethod   151.2    2  7.6686 0.0004939 ***
NumGears              109.2    2  5.5361 0.0040576 ** 
TransLockup            61.8    1  6.2715 0.0124202 *  
TransCreeperGear       43.4    1  4.4052 0.0360667 *  
DriveDesc            1535.0    4 38.9205 &lt; 2.2e-16 ***
IntakeValvePerCyl      56.6    2  2.8720 0.0570315 .  
ExhaustValvesPerCyl    41.2    1  4.1803 0.0411460 *  
CarlineClassDesc     3495.4   16 22.1561 &lt; 2.2e-16 ***
VarValveTiming          3.0    1  0.3008 0.5835171    
VarValveLift           71.3    1  7.2336 0.0072685 ** 
Residuals           10363.0 1051                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<ul>
<li>Highest p-value is <code>VarValveTiming</code> with 0.584</li>
</ul>
</section>
<section id="c" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="c"><span class="header-section-number">1.3</span> c</h2>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>cars_2010_sub <span class="ot">&lt;-</span> cars2010 <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>VarValveTiming)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>cars_lm2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(FE <span class="sc">~</span> ., cars_2010_sub)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cars_lm2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = FE ~ ., data = cars_2010_sub)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.6242  -1.6504   0.0541   1.5540  21.5852 

Coefficients: (5 not defined because of singularities)
                                                 Estimate Std. Error t value
(Intercept)                                      35.99395    3.34810  10.751
EngDispl                                         -2.26003    0.26130  -8.649
NumCyl3                                          16.00965    5.10296   3.137
NumCyl4                                           7.91363    3.93394   2.012
NumCyl5                                           5.03429    3.96717   1.269
NumCyl6                                           4.35537    3.92996   1.108
NumCyl8                                           2.71420    3.96652   0.684
NumCyl10                                          0.18914    4.11622   0.046
NumCyl12                                         -0.81976    4.10043  -0.200
NumCyl16                                         -0.08503    5.40249  -0.016
TransmissionA4                                   -6.98768    2.27095  -3.077
TransmissionA5                                   -6.53850    2.27848  -2.870
TransmissionA6                                   -4.90059    2.27740  -2.152
TransmissionA7                                    5.71566    2.44150   2.341
TransmissionAM6                                  -9.49295    2.46240  -3.855
TransmissionAM7                                   0.59242    2.65143   0.223
TransmissionAV                                   -4.40233    2.28375  -1.928
TransmissionAVS6                                 -6.72853    2.41673  -2.784
TransmissionM5                                   -7.01977    2.27644  -3.084
TransmissionM6                                   -7.04911    2.26540  -3.112
TransmissionS4                                  -10.51052    2.42259  -4.339
TransmissionS5                                   -7.20354    2.30398  -3.127
TransmissionS6                                   -5.10605    2.26234  -2.257
TransmissionS7                                    4.09144    2.51056   1.630
TransmissionS8                                   -4.62893    4.02408  -1.150
AirAspirationMethodSupercharged                  -1.67713    0.78857  -2.127
AirAspirationMethodTurbocharged                  -1.13613    0.32177  -3.531
NumGears4                                              NA         NA      NA
NumGears5                                              NA         NA      NA
NumGears6                                              NA         NA      NA
NumGears7                                       -10.74376    3.27788  -3.278
NumGears8                                         1.79152    3.19600   0.561
TransLockup1                                     -0.89373    0.35703  -2.503
TransCreeperGear1                                -1.09666    0.48450  -2.263
DriveDescFourWheelDrive                          -0.44026    0.43399  -1.014
DriveDescParttimeFourWheelDrive                  -0.25475    1.06227  -0.240
DriveDescTwoWheelDriveFront                       4.32752    0.37652  11.494
DriveDescTwoWheelDriveRear                        1.19041    0.37227   3.198
IntakeValvePerCyl1                                6.36976    3.31984   1.919
IntakeValvePerCyl2                                4.90088    3.20946   1.527
IntakeValvePerCyl3                                     NA         NA      NA
ExhaustValvesPerCyl1                              1.49669    0.74949   1.997
ExhaustValvesPerCyl2                                   NA         NA      NA
CarlineClassDesc2Seaters                          2.85888    1.17793   2.427
CarlineClassDescCompactCars                       3.77775    1.09907   3.437
CarlineClassDescLargeCars                         2.55092    1.13023   2.257
CarlineClassDescMidsizeCars                       3.38958    1.09647   3.091
CarlineClassDescMinicompactCars                   3.62150    1.19313   3.035
CarlineClassDescSmallPickupTrucks2WD             -1.88501    1.24990  -1.508
CarlineClassDescSmallPickupTrucks4WD             -0.99946    1.34930  -0.741
CarlineClassDescSmallStationWagons                2.19864    1.13559   1.936
CarlineClassDescSpecialPurposeVehicleminivan2WD  -2.14681    1.35716  -1.582
CarlineClassDescSpecialPurposeVehicleSUV2WD      -1.52376    1.10769  -1.376
CarlineClassDescSpecialPurposeVehicleSUV4WD      -0.58904    1.12151  -0.525
CarlineClassDescStandardPickupTrucks2WD          -1.76375    1.26916  -1.390
CarlineClassDescStandardPickupTrucks4WD          -1.97791    1.30079  -1.521
CarlineClassDescSubcompactCars                    3.42813    1.11204   3.083
CarlineClassDescVansCargoTypes                   -4.03720    1.51499  -2.665
CarlineClassDescVansPassengerType                -4.21030    1.94682  -2.163
VarValveLift1                                     0.82139    0.30683   2.677
                                                Pr(&gt;|t|)    
(Intercept)                                      &lt; 2e-16 ***
EngDispl                                         &lt; 2e-16 ***
NumCyl3                                         0.001752 ** 
NumCyl4                                         0.044513 *  
NumCyl5                                         0.204726    
NumCyl6                                         0.268007    
NumCyl8                                         0.493951    
NumCyl10                                        0.963360    
NumCyl12                                        0.841581    
NumCyl16                                        0.987446    
TransmissionA4                                  0.002145 ** 
TransmissionA5                                  0.004191 ** 
TransmissionA6                                  0.031638 *  
TransmissionA7                                  0.019416 *  
TransmissionAM6                                 0.000123 ***
TransmissionAM7                                 0.823240    
TransmissionAV                                  0.054164 .  
TransmissionAVS6                                0.005463 ** 
TransmissionM5                                  0.002098 ** 
TransmissionM6                                  0.001911 ** 
TransmissionS4                                  1.57e-05 ***
TransmissionS5                                  0.001817 ** 
TransmissionS6                                  0.024214 *  
TransmissionS7                                  0.103466    
TransmissionS8                                  0.250279    
AirAspirationMethodSupercharged                 0.033668 *  
AirAspirationMethodTurbocharged                 0.000432 ***
NumGears4                                             NA    
NumGears5                                             NA    
NumGears6                                             NA    
NumGears7                                       0.001081 ** 
NumGears8                                       0.575223    
TransLockup1                                    0.012458 *  
TransCreeperGear1                               0.023808 *  
DriveDescFourWheelDrive                         0.310604    
DriveDescParttimeFourWheelDrive                 0.810521    
DriveDescTwoWheelDriveFront                      &lt; 2e-16 ***
DriveDescTwoWheelDriveRear                      0.001427 ** 
IntakeValvePerCyl1                              0.055293 .  
IntakeValvePerCyl2                              0.127060    
IntakeValvePerCyl3                                    NA    
ExhaustValvesPerCyl1                            0.046088 *  
ExhaustValvesPerCyl2                                  NA    
CarlineClassDesc2Seaters                        0.015390 *  
CarlineClassDescCompactCars                     0.000611 ***
CarlineClassDescLargeCars                       0.024213 *  
CarlineClassDescMidsizeCars                     0.002045 ** 
CarlineClassDescMinicompactCars                 0.002462 ** 
CarlineClassDescSmallPickupTrucks2WD            0.131822    
CarlineClassDescSmallPickupTrucks4WD            0.459026    
CarlineClassDescSmallStationWagons              0.053120 .  
CarlineClassDescSpecialPurposeVehicleminivan2WD 0.113986    
CarlineClassDescSpecialPurposeVehicleSUV2WD     0.169229    
CarlineClassDescSpecialPurposeVehicleSUV4WD     0.599543    
CarlineClassDescStandardPickupTrucks2WD         0.164913    
CarlineClassDescStandardPickupTrucks4WD         0.128675    
CarlineClassDescSubcompactCars                  0.002105 ** 
CarlineClassDescVansCargoTypes                  0.007821 ** 
CarlineClassDescVansPassengerType               0.030792 *  
VarValveLift1                                   0.007544 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.139 on 1052 degrees of freedom
Multiple R-squared:  0.8333,    Adjusted R-squared:  0.8247 
F-statistic: 97.38 on 54 and 1052 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(cars_lm2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: model has aliased coefficients
      sums of squares computed by model comparison</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Anova Table (Type II tests)

Response: FE
                     Sum Sq   Df F value    Pr(&gt;F)    
EngDispl              737.1    1 74.8066 &lt; 2.2e-16 ***
NumCyl                887.9    6 15.0181 &lt; 2.2e-16 ***
Transmission          712.6   12  6.0266 2.849e-10 ***
AirAspirationMethod   153.8    2  7.8053 0.0004316 ***
NumGears              109.2    2  5.5431 0.0040294 ** 
TransLockup            61.7    1  6.2661 0.0124578 *  
TransCreeperGear       50.5    1  5.1234 0.0238082 *  
DriveDesc            1545.6    4 39.2146 &lt; 2.2e-16 ***
IntakeValvePerCyl      57.9    2  2.9386 0.0533736 .  
ExhaustValvesPerCyl    39.3    1  3.9878 0.0460877 *  
CarlineClassDesc     3504.2   16 22.2267 &lt; 2.2e-16 ***
VarValveLift           70.6    1  7.1663 0.0075441 ** 
Residuals           10366.0 1052                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<ul>
<li>The p-value for the model did not change significantly</li>
<li><span class="math inline">\(R^2\)</span> did not change significantly and <span class="math inline">\(R_a^2\)</span> increased a little</li>
<li></li>
</ul>
</section>
<section id="d" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="d"><span class="header-section-number">1.4</span> d</h2>
<p>Dropping <code>IntakeValvePerCyl</code>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>cars_2010_sub <span class="ot">&lt;-</span> cars_2010_sub <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>IntakeValvePerCyl)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>cars_lm3 <span class="ot">&lt;-</span> <span class="fu">lm</span>(FE <span class="sc">~</span> ., cars_2010_sub)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cars_lm3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = FE ~ ., data = cars_2010_sub)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.5964  -1.7032   0.0413   1.5730  21.6235 

Coefficients: (4 not defined because of singularities)
                                                Estimate Std. Error t value
(Intercept)                                      36.0050     3.3542  10.734
EngDispl                                         -2.1120     0.2530  -8.346
NumCyl3                                          20.9056     3.9117   5.344
NumCyl4                                          12.6843     2.2897   5.540
NumCyl5                                           9.6779     2.3617   4.098
NumCyl6                                           9.0036     2.3148   3.889
NumCyl8                                           7.0608     2.4285   2.908
NumCyl10                                          4.4870     2.6277   1.708
NumCyl12                                          3.0682     2.6138   1.174
NumCyl16                                          3.8516     4.3735   0.881
TransmissionA4                                   -7.1007     2.2745  -3.122
TransmissionA5                                   -6.7679     2.2799  -2.968
TransmissionA6                                   -5.2017     2.2777  -2.284
TransmissionA7                                    5.3619     2.4409   2.197
TransmissionAM6                                  -9.5275     2.4663  -3.863
TransmissionAM7                                   0.5339     2.6561   0.201
TransmissionAV                                   -4.5677     2.2867  -1.998
TransmissionAVS6                                 -6.9582     2.4186  -2.877
TransmissionM5                                   -7.2063     2.2788  -3.162
TransmissionM6                                   -7.1857     2.2683  -3.168
TransmissionS4                                  -10.7361     2.4247  -4.428
TransmissionS5                                   -7.3945     2.3063  -3.206
TransmissionS6                                   -5.2347     2.2655  -2.311
TransmissionS7                                    3.8448     2.5130   1.530
TransmissionS8                                   -4.6021     4.0315  -1.142
AirAspirationMethodSupercharged                  -1.8711     0.7825  -2.391
AirAspirationMethodTurbocharged                  -1.1602     0.3221  -3.602
NumGears4                                             NA         NA      NA
NumGears5                                             NA         NA      NA
NumGears6                                             NA         NA      NA
NumGears7                                       -10.6135     3.2834  -3.233
NumGears8                                         1.7231     3.2016   0.538
TransLockup1                                     -0.9069     0.3576  -2.536
TransCreeperGear1                                -1.2475     0.4777  -2.612
DriveDescFourWheelDrive                          -0.4799     0.4345  -1.105
DriveDescParttimeFourWheelDrive                  -0.3666     1.0628  -0.345
DriveDescTwoWheelDriveFront                       4.3236     0.3772  11.462
DriveDescTwoWheelDriveRear                        1.1403     0.3722   3.063
ExhaustValvesPerCyl1                              2.7454     0.3965   6.925
ExhaustValvesPerCyl2                                  NA         NA      NA
CarlineClassDesc2Seaters                          2.7680     1.1781   2.350
CarlineClassDescCompactCars                       3.7770     1.1011   3.430
CarlineClassDescLargeCars                         2.5646     1.1323   2.265
CarlineClassDescMidsizeCars                       3.3732     1.0985   3.071
CarlineClassDescMinicompactCars                   3.6283     1.1952   3.036
CarlineClassDescSmallPickupTrucks2WD             -1.9032     1.2522  -1.520
CarlineClassDescSmallPickupTrucks4WD             -1.0239     1.3517  -0.757
CarlineClassDescSmallStationWagons                2.1934     1.1377   1.928
CarlineClassDescSpecialPurposeVehicleminivan2WD  -2.1150     1.3596  -1.556
CarlineClassDescSpecialPurposeVehicleSUV2WD      -1.5296     1.1097  -1.378
CarlineClassDescSpecialPurposeVehicleSUV4WD      -0.5922     1.1235  -0.527
CarlineClassDescStandardPickupTrucks2WD          -1.7232     1.2714  -1.355
CarlineClassDescStandardPickupTrucks4WD          -1.9711     1.3031  -1.513
CarlineClassDescSubcompactCars                    3.4139     1.1141   3.064
CarlineClassDescVansCargoTypes                   -3.9331     1.5169  -2.593
CarlineClassDescVansPassengerType                -4.0805     1.9494  -2.093
VarValveLift1                                     0.8053     0.3070   2.623
                                                Pr(&gt;|t|)    
(Intercept)                                      &lt; 2e-16 ***
EngDispl                                         &lt; 2e-16 ***
NumCyl3                                         1.11e-07 ***
NumCyl4                                         3.83e-08 ***
NumCyl5                                         4.49e-05 ***
NumCyl6                                         0.000107 ***
NumCyl8                                         0.003719 ** 
NumCyl10                                        0.088005 .  
NumCyl12                                        0.240713    
NumCyl16                                        0.378695    
TransmissionA4                                  0.001846 ** 
TransmissionA5                                  0.003061 ** 
TransmissionA6                                  0.022584 *  
TransmissionA7                                  0.028260 *  
TransmissionAM6                                 0.000119 ***
TransmissionAM7                                 0.840740    
TransmissionAV                                  0.046025 *  
TransmissionAVS6                                0.004096 ** 
TransmissionM5                                  0.001610 ** 
TransmissionM6                                  0.001580 ** 
TransmissionS4                                  1.05e-05 ***
TransmissionS5                                  0.001385 ** 
TransmissionS6                                  0.021044 *  
TransmissionS7                                  0.126328    
TransmissionS8                                  0.253901    
AirAspirationMethodSupercharged                 0.016962 *  
AirAspirationMethodTurbocharged                 0.000331 ***
NumGears4                                             NA    
NumGears5                                             NA    
NumGears6                                             NA    
NumGears7                                       0.001265 ** 
NumGears8                                       0.590565    
TransLockup1                                    0.011365 *  
TransCreeperGear1                               0.009142 ** 
DriveDescFourWheelDrive                         0.269550    
DriveDescParttimeFourWheelDrive                 0.730220    
DriveDescTwoWheelDriveFront                      &lt; 2e-16 ***
DriveDescTwoWheelDriveRear                      0.002245 ** 
ExhaustValvesPerCyl1                            7.58e-12 ***
ExhaustValvesPerCyl2                                  NA    
CarlineClassDesc2Seaters                        0.018981 *  
CarlineClassDescCompactCars                     0.000626 ***
CarlineClassDescLargeCars                       0.023715 *  
CarlineClassDescMidsizeCars                     0.002189 ** 
CarlineClassDescMinicompactCars                 0.002458 ** 
CarlineClassDescSmallPickupTrucks2WD            0.128836    
CarlineClassDescSmallPickupTrucks4WD            0.448949    
CarlineClassDescSmallStationWagons              0.054126 .  
CarlineClassDescSpecialPurposeVehicleminivan2WD 0.120096    
CarlineClassDescSpecialPurposeVehicleSUV2WD     0.168369    
CarlineClassDescSpecialPurposeVehicleSUV4WD     0.598240    
CarlineClassDescStandardPickupTrucks2WD         0.175593    
CarlineClassDescStandardPickupTrucks4WD         0.130664    
CarlineClassDescSubcompactCars                  0.002237 ** 
CarlineClassDescVansCargoTypes                  0.009648 ** 
CarlineClassDescVansPassengerType               0.036568 *  
VarValveLift1                                   0.008839 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.145 on 1054 degrees of freedom
Multiple R-squared:  0.8324,    Adjusted R-squared:  0.8241 
F-statistic: 100.6 on 52 and 1054 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(cars_lm3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: model has aliased coefficients
      sums of squares computed by model comparison</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Anova Table (Type II tests)

Response: FE
                     Sum Sq   Df F value    Pr(&gt;F)    
EngDispl              688.9    1 69.6604 &lt; 2.2e-16 ***
NumCyl               1000.0    6 16.8523 &lt; 2.2e-16 ***
Transmission          699.4   12  5.8935 5.430e-10 ***
AirAspirationMethod   169.7    2  8.5817 0.0002009 ***
NumGears              106.5    2  5.3833 0.0047196 ** 
TransLockup            63.6    1  6.4299 0.0113653 *  
TransCreeperGear       67.4    1  6.8201 0.0091419 ** 
DriveDesc            1559.4    4 39.4183 &lt; 2.2e-16 ***
ExhaustValvesPerCyl   474.2    1 47.9516 7.583e-12 ***
CarlineClassDesc     3489.4   16 22.0517 &lt; 2.2e-16 ***
VarValveLift           68.0    1  6.8807 0.0088387 ** 
Residuals           10423.9 1054                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cars_2010_sub <span class="ot">&lt;-</span> cars_2010_sub <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>TransLockup)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>cars_lm4 <span class="ot">&lt;-</span> <span class="fu">lm</span>(FE <span class="sc">~</span> ., cars_2010_sub)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cars_lm4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = FE ~ ., data = cars_2010_sub)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.6831  -1.7755   0.0193   1.5767  22.1002 

Coefficients: (4 not defined because of singularities)
                                                Estimate Std. Error t value
(Intercept)                                      35.5540     3.3581  10.588
EngDispl                                         -2.0676     0.2531  -8.170
NumCyl3                                          20.3570     3.9157   5.199
NumCyl4                                          12.6350     2.2955   5.504
NumCyl5                                           9.6799     2.3677   4.088
NumCyl6                                           8.8784     2.3203   3.826
NumCyl8                                           6.8252     2.4329   2.805
NumCyl10                                          4.2129     2.6322   1.601
NumCyl12                                          2.7488     2.6175   1.050
NumCyl16                                          4.1444     4.3832   0.946
TransmissionA4                                   -7.5779     2.2725  -3.335
TransmissionA5                                   -7.2188     2.2788  -3.168
TransmissionA6                                   -5.5830     2.2785  -2.450
TransmissionA7                                    4.7030     2.4333   1.933
TransmissionAM6                                  -9.6845     2.4718  -3.918
TransmissionAM7                                   0.5441     2.6629   0.204
TransmissionAV                                   -4.5705     2.2925  -1.994
TransmissionAVS6                                 -6.8711     2.4245  -2.834
TransmissionM5                                   -6.7947     2.2788  -2.982
TransmissionM6                                   -6.8804     2.2710  -3.030
TransmissionS4                                  -11.2457     2.4226  -4.642
TransmissionS5                                   -7.8915     2.3038  -3.425
TransmissionS6                                   -5.5467     2.2680  -2.446
TransmissionS7                                    3.1101     2.5027   1.243
TransmissionS8                                   -5.4739     4.0271  -1.359
AirAspirationMethodSupercharged                  -1.7876     0.7838  -2.281
AirAspirationMethodTurbocharged                  -1.1043     0.3222  -3.427
NumGears4                                             NA         NA      NA
NumGears5                                             NA         NA      NA
NumGears6                                             NA         NA      NA
NumGears7                                       -10.2165     3.2880  -3.107
NumGears8                                         2.2205     3.2038   0.693
TransCreeperGear1                                -1.2791     0.4788  -2.672
DriveDescFourWheelDrive                          -0.4976     0.4355  -1.143
DriveDescParttimeFourWheelDrive                  -0.4061     1.0655  -0.381
DriveDescTwoWheelDriveFront                       4.3413     0.3781  11.482
DriveDescTwoWheelDriveRear                        1.1035     0.3729   2.959
ExhaustValvesPerCyl1                              2.7948     0.3970   7.040
ExhaustValvesPerCyl2                                  NA         NA      NA
CarlineClassDesc2Seaters                          2.8530     1.1807   2.416
CarlineClassDescCompactCars                       3.7853     1.1039   3.429
CarlineClassDescLargeCars                         2.5289     1.1351   2.228
CarlineClassDescMidsizeCars                       3.3020     1.1009   2.999
CarlineClassDescMinicompactCars                   3.7542     1.1972   3.136
CarlineClassDescSmallPickupTrucks2WD             -1.9188     1.2554  -1.528
CarlineClassDescSmallPickupTrucks4WD             -1.0621     1.3551  -0.784
CarlineClassDescSmallStationWagons                2.1620     1.1405   1.896
CarlineClassDescSpecialPurposeVehicleminivan2WD  -2.2133     1.3625  -1.624
CarlineClassDescSpecialPurposeVehicleSUV2WD      -1.5927     1.1122  -1.432
CarlineClassDescSpecialPurposeVehicleSUV4WD      -0.6482     1.1262  -0.576
CarlineClassDescStandardPickupTrucks2WD          -1.7299     1.2746  -1.357
CarlineClassDescStandardPickupTrucks4WD          -2.0053     1.3064  -1.535
CarlineClassDescSubcompactCars                    3.3939     1.1169   3.039
CarlineClassDescVansCargoTypes                   -3.9518     1.5207  -2.599
CarlineClassDescVansPassengerType                -4.0897     1.9544  -2.093
VarValveLift1                                     0.8016     0.3078   2.604
                                                Pr(&gt;|t|)    
(Intercept)                                      &lt; 2e-16 ***
EngDispl                                        8.79e-16 ***
NumCyl3                                         2.41e-07 ***
NumCyl4                                         4.66e-08 ***
NumCyl5                                         4.68e-05 ***
NumCyl6                                         0.000138 ***
NumCyl8                                         0.005119 ** 
NumCyl10                                        0.109781    
NumCyl12                                        0.293871    
NumCyl16                                        0.344606    
TransmissionA4                                  0.000884 ***
TransmissionA5                                  0.001580 ** 
TransmissionA6                                  0.014438 *  
TransmissionA7                                  0.053532 .  
TransmissionAM6                                 9.50e-05 ***
TransmissionAM7                                 0.838126    
TransmissionAV                                  0.046450 *  
TransmissionAVS6                                0.004685 ** 
TransmissionM5                                  0.002933 ** 
TransmissionM6                                  0.002507 ** 
TransmissionS4                                  3.88e-06 ***
TransmissionS5                                  0.000638 ***
TransmissionS6                                  0.014620 *  
TransmissionS7                                  0.214253    
TransmissionS8                                  0.174354    
AirAspirationMethodSupercharged                 0.022764 *  
AirAspirationMethodTurbocharged                 0.000633 ***
NumGears4                                             NA    
NumGears5                                             NA    
NumGears6                                             NA    
NumGears7                                       0.001939 ** 
NumGears8                                       0.488417    
TransCreeperGear1                               0.007665 ** 
DriveDescFourWheelDrive                         0.253447    
DriveDescParttimeFourWheelDrive                 0.703142    
DriveDescTwoWheelDriveFront                      &lt; 2e-16 ***
DriveDescTwoWheelDriveRear                      0.003153 ** 
ExhaustValvesPerCyl1                            3.46e-12 ***
ExhaustValvesPerCyl2                                  NA    
CarlineClassDesc2Seaters                        0.015841 *  
CarlineClassDescCompactCars                     0.000629 ***
CarlineClassDescLargeCars                       0.026094 *  
CarlineClassDescMidsizeCars                     0.002770 ** 
CarlineClassDescMinicompactCars                 0.001761 ** 
CarlineClassDescSmallPickupTrucks2WD            0.126696    
CarlineClassDescSmallPickupTrucks4WD            0.433337    
CarlineClassDescSmallStationWagons              0.058280 .  
CarlineClassDescSpecialPurposeVehicleminivan2WD 0.104587    
CarlineClassDescSpecialPurposeVehicleSUV2WD     0.152446    
CarlineClassDescSpecialPurposeVehicleSUV4WD     0.565022    
CarlineClassDescStandardPickupTrucks2WD         0.175017    
CarlineClassDescStandardPickupTrucks4WD         0.125076    
CarlineClassDescSubcompactCars                  0.002435 ** 
CarlineClassDescVansCargoTypes                  0.009490 ** 
CarlineClassDescVansPassengerType               0.036625 *  
VarValveLift1                                   0.009338 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.153 on 1055 degrees of freedom
Multiple R-squared:  0.8313,    Adjusted R-squared:  0.8232 
F-statistic:   102 on 51 and 1055 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(cars_lm4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: model has aliased coefficients
      sums of squares computed by model comparison</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Anova Table (Type II tests)

Response: FE
                     Sum Sq   Df F value    Pr(&gt;F)    
EngDispl              663.5    1 66.7421 8.786e-16 ***
NumCyl               1037.6    6 17.3966 &lt; 2.2e-16 ***
Transmission          638.4   12  5.3520 7.426e-09 ***
AirAspirationMethod   155.0    2  7.7971  0.000435 ***
NumGears              101.0    2  5.0780  0.006385 ** 
TransCreeperGear       71.0    1  7.1376  0.007665 ** 
DriveDesc            1586.1    4 39.8882 &lt; 2.2e-16 ***
ExhaustValvesPerCyl   492.7    1 49.5606 3.460e-12 ***
CarlineClassDesc     3548.8   16 22.3123 &lt; 2.2e-16 ***
VarValveLift           67.4    1  6.7819  0.009338 ** 
Residuals           10487.5 1055                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>cars_2010_sub <span class="ot">&lt;-</span> cars_2010_sub <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>VarValveLift)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>cars_lm5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(FE <span class="sc">~</span> ., cars_2010_sub)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(cars_lm5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = FE ~ ., data = cars_2010_sub)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.7951  -1.7259   0.0248   1.6395  22.0010 

Coefficients: (4 not defined because of singularities)
                                                Estimate Std. Error t value
(Intercept)                                      35.6506     3.3670  10.588
EngDispl                                         -2.0915     0.2536  -8.247
NumCyl3                                          20.1462     3.9256   5.132
NumCyl4                                          12.9901     2.2977   5.653
NumCyl5                                           9.9691     2.3716   4.204
NumCyl6                                           9.2880     2.3213   4.001
NumCyl8                                           7.1931     2.4355   2.953
NumCyl10                                          4.2902     2.6392   1.626
NumCyl12                                          2.9960     2.6229   1.142
NumCyl16                                          4.2509     4.3950   0.967
TransmissionA4                                   -7.9263     2.2748  -3.484
TransmissionA5                                   -7.4632     2.2831  -3.269
TransmissionA6                                   -5.9012     2.2815  -2.587
TransmissionA7                                    4.9316     2.4383   2.023
TransmissionAM6                                 -10.0571     2.4744  -4.064
TransmissionAM7                                   0.4535     2.6700   0.170
TransmissionAV                                   -4.8272     2.2967  -2.102
TransmissionAVS6                                 -7.2674     2.4264  -2.995
TransmissionM5                                   -7.0899     2.2822  -3.107
TransmissionM6                                   -7.0372     2.2764  -3.091
TransmissionS4                                  -11.2013     2.4291  -4.611
TransmissionS5                                   -8.0730     2.3091  -3.496
TransmissionS6                                   -5.7943     2.2722  -2.550
TransmissionS7                                    3.4280     2.5065   1.368
TransmissionS8                                   -5.5848     4.0379  -1.383
AirAspirationMethodSupercharged                  -1.9893     0.7821  -2.544
AirAspirationMethodTurbocharged                  -1.2457     0.3184  -3.912
NumGears4                                             NA         NA      NA
NumGears5                                             NA         NA      NA
NumGears6                                             NA         NA      NA
NumGears7                                       -10.6500     3.2928  -3.234
NumGears8                                         2.0751     3.2121   0.646
TransCreeperGear1                                -1.3661     0.4789  -2.852
DriveDescFourWheelDrive                          -0.6841     0.4308  -1.588
DriveDescParttimeFourWheelDrive                  -0.7039     1.0622  -0.663
DriveDescTwoWheelDriveFront                       4.1905     0.3747  11.185
DriveDescTwoWheelDriveRear                        0.9965     0.3717   2.681
ExhaustValvesPerCyl1                              2.7810     0.3980   6.986
ExhaustValvesPerCyl2                                  NA         NA      NA
CarlineClassDesc2Seaters                          3.0982     1.1801   2.625
CarlineClassDescCompactCars                       3.8878     1.1062   3.515
CarlineClassDescLargeCars                         2.6874     1.1366   2.364
CarlineClassDescMidsizeCars                       3.4001     1.1033   3.082
CarlineClassDescMinicompactCars                   4.3247     1.1802   3.664
CarlineClassDescSmallPickupTrucks2WD             -1.8684     1.2587  -1.484
CarlineClassDescSmallPickupTrucks4WD             -0.9067     1.3575  -0.668
CarlineClassDescSmallStationWagons                2.2224     1.1434   1.944
CarlineClassDescSpecialPurposeVehicleminivan2WD  -2.1858     1.3662  -1.600
CarlineClassDescSpecialPurposeVehicleSUV2WD      -1.5070     1.1148  -1.352
CarlineClassDescSpecialPurposeVehicleSUV4WD      -0.4822     1.1274  -0.428
CarlineClassDescStandardPickupTrucks2WD          -1.6614     1.2778  -1.300
CarlineClassDescStandardPickupTrucks4WD          -1.8270     1.3081  -1.397
CarlineClassDescSubcompactCars                    3.6375     1.1160   3.259
CarlineClassDescVansCargoTypes                   -3.8763     1.5246  -2.542
CarlineClassDescVansPassengerType                -4.0117     1.9595  -2.047
                                                Pr(&gt;|t|)    
(Intercept)                                      &lt; 2e-16 ***
EngDispl                                        4.79e-16 ***
NumCyl3                                         3.41e-07 ***
NumCyl4                                         2.02e-08 ***
NumCyl5                                         2.85e-05 ***
NumCyl6                                         6.74e-05 ***
NumCyl8                                         0.003212 ** 
NumCyl10                                        0.104342    
NumCyl12                                        0.253614    
NumCyl16                                        0.333656    
TransmissionA4                                  0.000513 ***
TransmissionA5                                  0.001115 ** 
TransmissionA6                                  0.009827 ** 
TransmissionA7                                  0.043374 *  
TransmissionAM6                                 5.17e-05 ***
TransmissionAM7                                 0.865169    
TransmissionAV                                  0.035807 *  
TransmissionAVS6                                0.002807 ** 
TransmissionM5                                  0.001944 ** 
TransmissionM6                                  0.002044 ** 
TransmissionS4                                  4.49e-06 ***
TransmissionS5                                  0.000492 ***
TransmissionS6                                  0.010908 *  
TransmissionS7                                  0.171715    
TransmissionS8                                  0.166927    
AirAspirationMethodSupercharged                 0.011113 *  
AirAspirationMethodTurbocharged                 9.74e-05 ***
NumGears4                                             NA    
NumGears5                                             NA    
NumGears6                                             NA    
NumGears7                                       0.001257 ** 
NumGears8                                       0.518403    
TransCreeperGear1                               0.004423 ** 
DriveDescFourWheelDrive                         0.112532    
DriveDescParttimeFourWheelDrive                 0.507654    
DriveDescTwoWheelDriveFront                      &lt; 2e-16 ***
DriveDescTwoWheelDriveRear                      0.007448 ** 
ExhaustValvesPerCyl1                            4.98e-12 ***
ExhaustValvesPerCyl2                                  NA    
CarlineClassDesc2Seaters                        0.008782 ** 
CarlineClassDescCompactCars                     0.000459 ***
CarlineClassDescLargeCars                       0.018235 *  
CarlineClassDescMidsizeCars                     0.002111 ** 
CarlineClassDescMinicompactCars                 0.000260 ***
CarlineClassDescSmallPickupTrucks2WD            0.137996    
CarlineClassDescSmallPickupTrucks4WD            0.504354    
CarlineClassDescSmallStationWagons              0.052206 .  
CarlineClassDescSpecialPurposeVehicleminivan2WD 0.109914    
CarlineClassDescSpecialPurposeVehicleSUV2WD     0.176714    
CarlineClassDescSpecialPurposeVehicleSUV4WD     0.668970    
CarlineClassDescStandardPickupTrucks2WD         0.193828    
CarlineClassDescStandardPickupTrucks4WD         0.162813    
CarlineClassDescSubcompactCars                  0.001152 ** 
CarlineClassDescVansCargoTypes                  0.011149 *  
CarlineClassDescVansPassengerType               0.040873 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.162 on 1056 degrees of freedom
Multiple R-squared:  0.8303,    Adjusted R-squared:  0.8222 
F-statistic: 103.3 on 50 and 1056 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">Anova</span>(cars_lm5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Note: model has aliased coefficients
      sums of squares computed by model comparison</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Anova Table (Type II tests)

Response: FE
                     Sum Sq   Df F value    Pr(&gt;F)    
EngDispl              679.8    1 68.0122 4.791e-16 ***
NumCyl               1043.7    6 17.4026 &lt; 2.2e-16 ***
Transmission          613.6   12  5.1154 2.307e-08 ***
AirAspirationMethod   202.9    2 10.1494 4.305e-05 ***
NumGears              108.9    2  5.4475  0.004429 ** 
TransCreeperGear       81.3    1  8.1365  0.004423 ** 
DriveDesc            1537.5    4 38.4558 &lt; 2.2e-16 ***
ExhaustValvesPerCyl   487.9    1 48.8110 4.982e-12 ***
CarlineClassDesc     3715.0   16 23.2300 &lt; 2.2e-16 ***
Residuals           10554.9 1056                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<ul>
<li>Both <span class="math inline">\(R^2\)</span> and <span class="math inline">\(R_a^2\)</span> decreased</li>
<li>9 variables significant at the 0.008 level</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>