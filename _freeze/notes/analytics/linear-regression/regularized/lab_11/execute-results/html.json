{
  "hash": "567f47d18f253d262c98f601d21a5afa",
  "result": {
    "markdown": "---\ntitle: Lab 11\ndate: 07/13/2023\n---\n\n\n# 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(AppliedPredictiveModeling)\nlibrary(glmnet)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: Matrix\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoaded glmnet 4.1-7\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ tidyr::expand() masks Matrix::expand()\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ tidyr::pack()   masks Matrix::pack()\n✖ tidyr::unpack() masks Matrix::unpack()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ndata(FuelEconomy)\nstr(cars2010)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t1107 obs. of  14 variables:\n $ EngDispl           : num  4.7 4.7 4.2 4.2 5.2 5.2 2 6 3 3 ...\n $ NumCyl             : int  8 8 8 8 10 10 4 12 6 6 ...\n $ Transmission       : Factor w/ 16 levels \"Other\",\"A4\",\"A5\",..: 6 11 11 6 6 11 14 14 14 11 ...\n $ FE                 : num  28 25.6 26.8 25 24.8 ...\n $ AirAspirationMethod: Factor w/ 3 levels \"NaturallyAspirated\",..: 1 1 1 1 1 1 3 3 1 1 ...\n $ NumGears           : int  6 6 6 6 6 6 6 6 6 6 ...\n $ TransLockup        : num  1 1 1 1 0 0 0 0 1 0 ...\n $ TransCreeperGear   : num  0 0 0 0 0 0 0 0 0 0 ...\n $ DriveDesc          : Factor w/ 5 levels \"AllWheelDrive\",..: 5 5 1 1 1 1 1 1 5 5 ...\n $ IntakeValvePerCyl  : int  2 2 2 2 2 2 2 2 2 2 ...\n $ ExhaustValvesPerCyl: int  2 2 2 2 2 2 2 2 2 2 ...\n $ CarlineClassDesc   : Factor w/ 17 levels \"Other\",\"2Seaters\",..: 2 2 2 2 2 2 2 2 2 2 ...\n $ VarValveTiming     : num  1 1 1 1 1 1 1 1 1 1 ...\n $ VarValveLift       : num  0 0 0 0 0 0 0 0 1 1 ...\n```\n:::\n:::\n\n\n## a\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncars2010 <- cars2010 %>%\n    mutate(across(!c(EngDispl, FE), as.factor))\n\nx <- model.matrix(FE ~ ., data = cars2010)[, -1]\ny <- cars2010$FE\ncars2010_lasso <- glmnet(x = x, y = y, data = cars2010, alpha = 1)\nplot(cars2010_lasso, xvar = \"lambda\")\n```\n\n::: {.cell-output-display}\n![](lab_11_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## b\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncars2010_lasso_cv <- cv.glmnet(x = x, y = y, data = cars2010, alpha = 1)\nsprintf(\"Lambda Min: %f\", cars2010_lasso_cv$lambda.min)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Lambda Min: 0.003149\"\n```\n:::\n\n```{.r .cell-code}\nsprintf(\"Lambda 1se: %f\", cars2010_lasso_cv$lambda.1se)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Lambda 1se: 0.081725\"\n```\n:::\n\n```{.r .cell-code}\ncoef(cars2010_lasso, s = c(cars2010_lasso_cv$lambda.min, cars2010_lasso_cv$lambda.1se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n61 x 2 sparse Matrix of class \"dgCMatrix\"\n                                                        s1           s2\n(Intercept)                                     33.4645943 41.426052394\nEngDispl                                        -2.2484039 -2.612376600\nNumCyl3                                         19.8854245 16.331381759\nNumCyl4                                          5.2160082  2.868003410\nNumCyl5                                          2.3331041  .          \nNumCyl6                                          1.6502816  .          \nNumCyl8                                          .         -0.469191710\nNumCyl10                                        -2.4726369 -2.125125452\nNumCyl12                                        -3.6178672 -3.300995112\nNumCyl16                                        -2.6276443  .          \nTransmissionA4                                  -0.1003125  .          \nTransmissionA5                                   .         -0.044325848\nTransmissionA6                                   .          0.905142859\nTransmissionA7                                   4.2967759  1.208841875\nTransmissionAM6                                 -4.5107268 -2.336212099\nTransmissionAM7                                 -0.6218908 -2.016822319\nTransmissionAV                                  -0.2210950  1.944530026\nTransmissionAVS6                                -2.5179098  .          \nTransmissionM5                                  -0.4113433  .          \nTransmissionM6                                  -2.0986945  .          \nTransmissionS4                                  -3.5686068 -2.648852091\nTransmissionS5                                  -0.6307208 -0.396420900\nTransmissionS6                                  -0.1950499  0.805590210\nTransmissionS7                                   2.6604006  .          \nTransmissionS8                                   .          0.701385206\nAirAspirationMethodSupercharged                 -1.6260213 -0.639479111\nAirAspirationMethodTurbocharged                 -1.0991194 -0.554921596\nNumGears4                                       -2.6785588 -0.457944419\nNumGears5                                       -2.3854979 -0.008066124\nNumGears6                                       -0.7563294  .          \nNumGears7                                       -5.1972241  .          \nNumGears8                                        1.3172267  1.486295656\nTransLockup1                                    -0.8631401 -0.462933334\nTransCreeperGear1                               -1.0187792 -0.379864714\nDriveDescFourWheelDrive                         -0.4422495 -0.226950598\nDriveDescParttimeFourWheelDrive                 -0.2729337  .          \nDriveDescTwoWheelDriveFront                      4.3185833  4.389609017\nDriveDescTwoWheelDriveRear                       1.1850298  1.040633387\nIntakeValvePerCyl1                               7.1818246  1.768522064\nIntakeValvePerCyl2                               5.7431452  .          \nIntakeValvePerCyl3                               0.8339699 -1.443732357\nExhaustValvesPerCyl1                             1.6971178  0.361322872\nExhaustValvesPerCyl2                             0.1346006  .          \nCarlineClassDesc2Seaters                         2.6259772  0.026404931\nCarlineClassDescCompactCars                      3.6497525  1.661753262\nCarlineClassDescLargeCars                        2.3903097  0.184839120\nCarlineClassDescMidsizeCars                      3.2554331  1.290408355\nCarlineClassDescMinicompactCars                  3.4442945  1.076833209\nCarlineClassDescSmallPickupTrucks2WD            -1.9683362 -2.874215693\nCarlineClassDescSmallPickupTrucks4WD            -1.0853059 -2.189519097\nCarlineClassDescSmallStationWagons               2.0295958  .          \nCarlineClassDescSpecialPurposeVehicleminivan2WD -2.1862947 -2.821841435\nCarlineClassDescSpecialPurposeVehicleSUV2WD     -1.6632754 -2.858148646\nCarlineClassDescSpecialPurposeVehicleSUV4WD     -0.7290329 -2.323183753\nCarlineClassDescStandardPickupTrucks2WD         -1.8792024 -2.498829779\nCarlineClassDescStandardPickupTrucks4WD         -2.0980581 -3.091291967\nCarlineClassDescSubcompactCars                   3.2221469  0.808901028\nCarlineClassDescVansCargoTypes                  -4.2187289 -4.643555906\nCarlineClassDescVansPassengerType               -4.4107156 -4.522207504\nVarValveTiming1                                  0.1854179  0.138945127\nVarValveLift1                                    0.8714607  0.953636281\n```\n:::\n:::\n",
    "supporting": [
      "lab_11_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}