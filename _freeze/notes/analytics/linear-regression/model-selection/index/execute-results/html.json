{
  "hash": "bdf32bd6f442eb10f18dc19e2b371edd",
  "result": {
    "markdown": "---\ntitle: Model Selection\ndate: 07/07/2023\ndate-modified: 07/23/2023\ncategories:\n    -   modeling\n---\n\n\n# Model Building Concepts\n\n**Information criteria** are metrics that are commonly used to \"select\" variables for the model.\n\n**Selection algorithm** is an automated technique to evaluate variables based on some selection criteria.\n\n-   Stepwise Selection (forward, backward, stepwise)\n-   All-regression Selection ($R^2$, $R_a^2$, Mallow's $C_p$)\n\nAll-regression selection tends to be unusable for datasets of a large size so we focus on stepwise selection for now.\n\n# Fear of Overfitting\n\nModel selection should always be done with training data.\n\nAlways hold out validation / testing data to help evaluate if we have overfit our data.\n\n# Information Criteria\n\nAIC and BIC approximate out-of-sample prediction error by applying a model complexity penalty.\n\nLower values are \"better\" than higher. No amount of lower is \"better\" enough.\n\nThe two criteria may not always agree, but neither is necessarily better.\n\n## Akaike Information Criterion\n\n$$\nAIC = -2\\log(L) + 2k\n$$\n\nCrude, large-sample approximation of leave-one-out cross-validation.\n\n## Bayesian Information Criterion\n\n$$\nBIC = -2\\log(L) + k\\log(n)\n$$\n\nFavors smaller models and penalizes model complexity more.\n\n# Forward Selection\n\nStart with a \"null\" model (just the intercept) and build up the model one variable at a time.\n\n1.  Start with intercept only model\n2.  For each variable not in model, create a linear regression model with the base model plus this variable\n3.  See which linear regression is best relative to the criterion\n4.  If better than base model, continue. Otherwise, stop.\n5.  Update base model to new model, repeat whole process\n\nOnce a variable enters the model in forward selection, the variable never leaves the model. This is a greedy algorithm so we might lose out on a better model since our initial decision on the best feature determines future decisions.\n\n## R Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(AmesHousing)\n\names <- make_ordinal_ames()\ntrain <- sample_frac(ames, 0.7)\ntrain_sel <- train %>%\n    select(Sale_Price, Lot_Area, Street, Bldg_Type, House_Style, Overall_Qual, Roof_Style, Central_Air, First_Flr_SF, Second_Flr_SF, Full_Bath, Half_Bath, Fireplaces, Garage_Area, Gr_Liv_Area, TotRms_AbvGrd) %>%\n    replace(is.na(.), 0)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfull.model <- lm(Sale_Price ~ ., data = train_sel)\nempty.model <- lm(Sale_Price ~ 1, data = train_sel)\n\nfor.model <- step(empty.model,\n    scope = list(\n        lower = empty.model,\n        upper = full.model\n    ),\n    direction = \"forward\",\n    k = 2,\n    trace = FALSE\n)\nfor.model\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = Sale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + \n    Garage_Area + Bldg_Type + Lot_Area + Fireplaces + Central_Air + \n    Roof_Style + Half_Bath + Full_Bath + First_Flr_SF + TotRms_AbvGrd + \n    Second_Flr_SF, data = train_sel)\n\nCoefficients:\n                (Intercept)               Overall_Qual.L  \n                  49308.311                   226471.803  \n             Overall_Qual.Q               Overall_Qual.C  \n                  82180.741                    38253.369  \n             Overall_Qual^4               Overall_Qual^5  \n                 -16484.729                    -8753.436  \n             Overall_Qual^6               Overall_Qual^7  \n                 -14290.374                     -557.745  \n             Overall_Qual^8               Overall_Qual^9  \n                  -2270.430                     -817.895  \n                Gr_Liv_Area  House_StyleOne_and_Half_Unf  \n                      7.251                     9702.783  \n       House_StyleOne_Story            House_StyleSFoyer  \n                  15666.481                    32716.305  \n            House_StyleSLvl  House_StyleTwo_and_Half_Fin  \n                   8472.968                    -4423.776  \nHouse_StyleTwo_and_Half_Unf         House_StyleTwo_Story  \n                 -10757.587                     5306.240  \n                Garage_Area            Bldg_TypeTwoFmCon  \n                     33.458                   -13910.202  \n            Bldg_TypeDuplex               Bldg_TypeTwnhs  \n                 -29913.678                   -11760.427  \n            Bldg_TypeTwnhsE                     Lot_Area  \n                  -5395.254                        0.579  \n                 Fireplaces                 Central_AirY  \n                   7424.436                    13095.719  \n            Roof_StyleGable            Roof_StyleGambrel  \n                  -8675.172                   -16732.110  \n              Roof_StyleHip            Roof_StyleMansard  \n                  -4868.546                   -59767.670  \n             Roof_StyleShed                    Half_Bath  \n                 -34105.646                     9907.065  \n                  Full_Bath                 First_Flr_SF  \n                   9811.399                       64.897  \n              TotRms_AbvGrd                Second_Flr_SF  \n                  -2503.751                       44.967  \n```\n:::\n:::\n\n\n-   Good practice to specify the full and empty models\n-   `k = 2` is selecting the AIC criteria\n\n## Python Code\n\n\n::: {.cell}\n\n```{.python .cell-code}\n# from sklearn.feature_selection import SequentialFeatureSelector\n# import statsmodels.formula.api as smf\n\n# model = \n```\n:::\n\n\nThe model obtained through forward selection is not necessarily a model where all variables are significant.\n\n## Other Criteria\n\nUsing `k = qchisq(0.05, 1, lower.tail = FALSE)` would replace the selection criteria with p-value selection. $\\alpha = 0.05$ in this case.\n\n`k = log(nrow(train_sel))` would use the BIC criterion.\n\n# Backward Selection\n\nRemove variables in the model one at a time.\n\n1.  Start with full model with all variables\n2.  Create models such that each model has exactly one predictor variable removed from it and calculate the criterion for each model\n3.  See which linear regression is best based on criterion\n4.  If better than base, continue to next step otherwise STOP\n5.  Update base model to new model, repeat\n\nThere are no guarantees that forward and back will agree.\n\n## R Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfull.model <- lm(Sale_Price ~ ., data = train_sel)\nempty.model <- lm(Sale_Price ~ 1, data = train_sel)\n\nback.model <- step(\n    full.model,\n    scope = list(\n        lower = empty.model,\n        upper = full.model\n    ),\n    direction = \"backward\",\n    k = 2,\n    trace = FALSE\n)\n\nback.model\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = Sale_Price ~ Lot_Area + Bldg_Type + House_Style + \n    Overall_Qual + Roof_Style + Central_Air + First_Flr_SF + \n    Second_Flr_SF + Full_Bath + Half_Bath + Fireplaces + Garage_Area + \n    TotRms_AbvGrd, data = train_sel)\n\nCoefficients:\n                (Intercept)                     Lot_Area  \n                  4.955e+04                    5.791e-01  \n          Bldg_TypeTwoFmCon              Bldg_TypeDuplex  \n                 -1.398e+04                   -3.000e+04  \n             Bldg_TypeTwnhs              Bldg_TypeTwnhsE  \n                 -1.176e+04                   -5.378e+03  \nHouse_StyleOne_and_Half_Unf         House_StyleOne_Story  \n                  9.319e+03                    1.523e+04  \n          House_StyleSFoyer              House_StyleSLvl  \n                  3.235e+04                    8.129e+03  \nHouse_StyleTwo_and_Half_Fin  House_StyleTwo_and_Half_Unf  \n                 -1.700e+03                   -1.086e+04  \n       House_StyleTwo_Story               Overall_Qual.L  \n                  5.209e+03                    2.264e+05  \n             Overall_Qual.Q               Overall_Qual.C  \n                  8.228e+04                    3.833e+04  \n             Overall_Qual^4               Overall_Qual^5  \n                 -1.645e+04                   -8.733e+03  \n             Overall_Qual^6               Overall_Qual^7  \n                 -1.422e+04                   -5.365e+02  \n             Overall_Qual^8               Overall_Qual^9  \n                 -2.253e+03                   -8.077e+02  \n            Roof_StyleGable            Roof_StyleGambrel  \n                 -8.721e+03                   -1.689e+04  \n              Roof_StyleHip            Roof_StyleMansard  \n                 -4.914e+03                   -5.980e+04  \n             Roof_StyleShed                 Central_AirY  \n                 -3.409e+04                    1.311e+04  \n               First_Flr_SF                Second_Flr_SF  \n                  7.207e+01                    5.170e+01  \n                  Full_Bath                    Half_Bath  \n                  9.859e+03                    9.913e+03  \n                 Fireplaces                  Garage_Area  \n                  7.440e+03                    3.340e+01  \n              TotRms_AbvGrd  \n                 -2.452e+03  \n```\n:::\n:::\n\n\nIt's good idea to perform different types of selection to get an idea of what features to include in your final model.\n\n# Stepwise Selection\n\nStart with \"null\" model and build the model one variable at a time while also deleting variables.\n\n1.  Start with intercept only model\n2.  For each variable not in model, create a linear regression model with base model plus this variable\n3.  For each variable, create models with the base model taking away one variable at a time\n4.  See which linear regression is best based on criterion\n5.  If better than base model, continue to next step, otherwise STOP\n6.  Update base model to new model, repeat process\n\nWith stepwise, once you decide to delete a model you never add it back into your model again.\n\n## R Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfull.model <- lm(Sale_Price ~ ., data = train_sel)\nempty.model <- lm(Sale_Price ~ 1, data = train_sel)\nstep.model <- step(empty.model,\n    scope = list(\n        lower = empty.model,\n        upper = full.model\n    ),\n    direction = \"both\", k = 2\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nStart:  AIC=46387.11\nSale_Price ~ 1\n\n                Df  Sum of Sq        RSS   AIC\n+ Overall_Qual   9 9.6786e+12 3.9328e+12 43859\n+ Gr_Liv_Area    1 7.0185e+12 6.5929e+12 44902\n+ First_Flr_SF   1 5.9158e+12 7.6956e+12 45220\n+ Garage_Area    1 5.7015e+12 7.9100e+12 45276\n+ Full_Bath      1 4.0091e+12 9.6023e+12 45674\n+ TotRms_AbvGrd  1 3.2798e+12 1.0332e+13 45824\n+ Fireplaces     1 3.0429e+12 1.0569e+13 45870\n+ Roof_Style     5 1.1930e+12 1.2418e+13 46209\n+ Lot_Area       1 9.9240e+11 1.2619e+13 46234\n+ Central_Air    1 8.9825e+11 1.2713e+13 46249\n+ Half_Bath      1 8.6579e+11 1.2746e+13 46254\n+ House_Style    7 9.1007e+11 1.2701e+13 46259\n+ Second_Flr_SF  1 7.7180e+11 1.2840e+13 46269\n+ Bldg_Type      4 5.0175e+11 1.3110e+13 46318\n+ Street         1 2.5318e+10 1.3586e+13 46385\n<none>                        1.3611e+13 46387\n\nStep:  AIC=43858.69\nSale_Price ~ Overall_Qual\n\n                Df  Sum of Sq        RSS   AIC\n+ Gr_Liv_Area    1 1.1390e+12 2.7938e+12 43159\n+ First_Flr_SF   1 8.2206e+11 3.1108e+12 43380\n+ Garage_Area    1 5.0899e+11 3.4239e+12 43576\n+ TotRms_AbvGrd  1 4.6679e+11 3.4661e+12 43602\n+ Fireplaces     1 4.3575e+11 3.4971e+12 43620\n+ Lot_Area       1 4.3156e+11 3.5013e+12 43622\n+ Full_Bath      1 3.4238e+11 3.5905e+12 43674\n+ Bldg_Type      4 2.1987e+11 3.7130e+12 43749\n+ Second_Flr_SF  1 1.1069e+11 3.8222e+12 43802\n+ Central_Air    1 1.0281e+11 3.8300e+12 43806\n+ Half_Bath      1 9.6265e+10 3.8366e+12 43810\n+ Roof_Style     5 9.8243e+10 3.8346e+12 43817\n+ House_Style    7 5.3069e+10 3.8798e+12 43845\n<none>                        3.9328e+12 43859\n+ Street         1 6.5122e+07 3.9328e+12 43861\n- Overall_Qual   9 9.6786e+12 1.3611e+13 46387\n\nStep:  AIC=43159.35\nSale_Price ~ Overall_Qual + Gr_Liv_Area\n\n                Df  Sum of Sq        RSS   AIC\n+ House_Style    7 3.7094e+11 2.4229e+12 42881\n+ First_Flr_SF   1 3.0997e+11 2.4839e+12 42920\n+ Second_Flr_SF  1 2.7039e+11 2.5234e+12 42953\n+ Garage_Area    1 2.5273e+11 2.5411e+12 42967\n+ Lot_Area       1 1.6985e+11 2.6240e+12 43033\n+ Fireplaces     1 1.3298e+11 2.6608e+12 43061\n+ Central_Air    1 1.1378e+11 2.6800e+12 43076\n+ Bldg_Type      4 1.0111e+11 2.6927e+12 43092\n+ Roof_Style     5 8.3606e+10 2.7102e+12 43107\n+ TotRms_AbvGrd  1 4.9729e+10 2.7441e+12 43125\n+ Full_Bath      1 5.0158e+09 2.7888e+12 43158\n+ Half_Bath      1 4.2670e+09 2.7896e+12 43158\n<none>                        2.7938e+12 43159\n+ Street         1 3.0361e+08 2.7935e+12 43161\n- Gr_Liv_Area    1 1.1390e+12 3.9328e+12 43859\n- Overall_Qual   9 3.7991e+12 6.5929e+12 44902\n\nStep:  AIC=42881.18\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style\n\n                Df  Sum of Sq        RSS   AIC\n+ Garage_Area    1 1.2429e+11 2.2986e+12 42775\n+ Bldg_Type      4 1.1851e+11 2.3044e+12 42786\n+ Lot_Area       1 9.0059e+10 2.3328e+12 42805\n+ Fireplaces     1 7.3465e+10 2.3494e+12 42820\n+ Central_Air    1 6.4141e+10 2.3587e+12 42828\n+ Half_Bath      1 2.7168e+10 2.3957e+12 42860\n+ TotRms_AbvGrd  1 2.4413e+10 2.3985e+12 42862\n+ Roof_Style     5 3.1845e+10 2.3910e+12 42864\n+ First_Flr_SF   1 2.1082e+10 2.4018e+12 42865\n+ Second_Flr_SF  1 9.8702e+09 2.4130e+12 42875\n<none>                        2.4229e+12 42881\n+ Street         1 6.5162e+08 2.4222e+12 42883\n+ Full_Bath      1 3.1011e+08 2.4226e+12 42883\n- House_Style    7 3.7094e+11 2.7938e+12 43159\n- Gr_Liv_Area    1 1.4569e+12 3.8798e+12 43845\n- Overall_Qual   9 2.6563e+12 5.0792e+12 44381\n\nStep:  AIC=42775.18\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area\n\n                Df  Sum of Sq        RSS   AIC\n+ Bldg_Type      4 9.9484e+10 2.1991e+12 42692\n+ Fireplaces     1 7.7120e+10 2.2215e+12 42707\n+ Lot_Area       1 6.9201e+10 2.2294e+12 42714\n+ Central_Air    1 4.0309e+10 2.2583e+12 42741\n+ TotRms_AbvGrd  1 2.2264e+10 2.2763e+12 42757\n+ Roof_Style     5 2.9837e+10 2.2688e+12 42758\n+ Half_Bath      1 2.0578e+10 2.2780e+12 42759\n+ First_Flr_SF   1 1.2447e+10 2.2862e+12 42766\n+ Second_Flr_SF  1 5.2779e+09 2.2933e+12 42772\n<none>                        2.2986e+12 42775\n+ Street         1 4.8080e+07 2.2986e+12 42777\n+ Full_Bath      1 1.8678e+07 2.2986e+12 42777\n- Garage_Area    1 1.2429e+11 2.4229e+12 42881\n- House_Style    7 2.4250e+11 2.5411e+12 42967\n- Gr_Liv_Area    1 1.0810e+12 3.3796e+12 43564\n- Overall_Qual   9 1.9714e+12 4.2700e+12 44027\n\nStep:  AIC=42692.43\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type\n\n                Df  Sum of Sq        RSS   AIC\n+ Lot_Area       1 5.7797e+10 2.1413e+12 42640\n+ Fireplaces     1 5.3007e+10 2.1461e+12 42644\n+ Central_Air    1 2.6218e+10 2.1729e+12 42670\n+ Roof_Style     5 2.9830e+10 2.1693e+12 42674\n+ Half_Bath      1 1.8890e+10 2.1802e+12 42677\n+ First_Flr_SF   1 1.7475e+10 2.1816e+12 42678\n+ TotRms_AbvGrd  1 9.1215e+09 2.1900e+12 42686\n+ Second_Flr_SF  1 7.9895e+09 2.1911e+12 42687\n+ Full_Bath      1 6.1306e+09 2.1930e+12 42689\n<none>                        2.1991e+12 42692\n+ Street         1 3.5384e+08 2.1988e+12 42694\n- Bldg_Type      4 9.9484e+10 2.2986e+12 42775\n- Garage_Area    1 1.0526e+11 2.3044e+12 42786\n- House_Style    7 2.6840e+11 2.4675e+12 42915\n- Gr_Liv_Area    1 1.0416e+12 3.2408e+12 43486\n- Overall_Qual   9 1.6326e+12 3.8317e+12 43813\n\nStep:  AIC=42639.81\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area\n\n                Df  Sum of Sq        RSS   AIC\n+ Fireplaces     1 4.0525e+10 2.1008e+12 42603\n+ Central_Air    1 2.3631e+10 2.1177e+12 42619\n+ Roof_Style     5 2.8521e+10 2.1128e+12 42622\n+ Half_Bath      1 1.7687e+10 2.1236e+12 42625\n+ First_Flr_SF   1 1.0898e+10 2.1304e+12 42631\n+ Full_Bath      1 6.9609e+09 2.1344e+12 42635\n+ TotRms_AbvGrd  1 6.8886e+09 2.1344e+12 42635\n+ Second_Flr_SF  1 4.0098e+09 2.1373e+12 42638\n<none>                        2.1413e+12 42640\n+ Street         1 1.1335e+09 2.1402e+12 42641\n- Lot_Area       1 5.7797e+10 2.1991e+12 42692\n- Bldg_Type      4 8.8079e+10 2.2294e+12 42714\n- Garage_Area    1 9.0624e+10 2.2319e+12 42723\n- House_Style    7 2.2397e+11 2.3653e+12 42830\n- Gr_Liv_Area    1 8.8831e+11 3.0296e+12 43350\n- Overall_Qual   9 1.6705e+12 3.8118e+12 43805\n\nStep:  AIC=42602.62\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces\n\n                Df  Sum of Sq        RSS   AIC\n+ Central_Air    1 2.0982e+10 2.0798e+12 42584\n+ Roof_Style     5 2.5934e+10 2.0749e+12 42587\n+ Half_Bath      1 1.3786e+10 2.0870e+12 42591\n+ Full_Bath      1 1.2634e+10 2.0882e+12 42592\n+ First_Flr_SF   1 7.9246e+09 2.0929e+12 42597\n+ TotRms_AbvGrd  1 6.0760e+09 2.0947e+12 42599\n+ Second_Flr_SF  1 2.4859e+09 2.0983e+12 42602\n<none>                        2.1008e+12 42603\n+ Street         1 1.3531e+09 2.0994e+12 42603\n- Fireplaces     1 4.0525e+10 2.1413e+12 42640\n- Lot_Area       1 4.5315e+10 2.1461e+12 42644\n- Bldg_Type      4 6.8112e+10 2.1689e+12 42660\n- Garage_Area    1 9.5457e+10 2.1963e+12 42692\n- House_Style    7 1.9057e+11 2.2914e+12 42767\n- Gr_Liv_Area    1 6.8568e+11 2.7865e+12 43180\n- Overall_Qual   9 1.6377e+12 3.7385e+12 43767\n\nStep:  AIC=42584.03\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air\n\n                Df  Sum of Sq        RSS   AIC\n+ Roof_Style     5 2.3879e+10 2.0559e+12 42570\n+ Full_Bath      1 1.2884e+10 2.0669e+12 42573\n+ Half_Bath      1 1.0579e+10 2.0692e+12 42576\n+ First_Flr_SF   1 8.5564e+09 2.0713e+12 42578\n+ TotRms_AbvGrd  1 6.7639e+09 2.0731e+12 42579\n+ Second_Flr_SF  1 2.7821e+09 2.0770e+12 42583\n<none>                        2.0798e+12 42584\n+ Street         1 1.5371e+09 2.0783e+12 42585\n- Central_Air    1 2.0982e+10 2.1008e+12 42603\n- Fireplaces     1 3.7876e+10 2.1177e+12 42619\n- Lot_Area       1 4.3536e+10 2.1234e+12 42625\n- Bldg_Type      4 5.6366e+10 2.1362e+12 42631\n- Garage_Area    1 8.0082e+10 2.1599e+12 42660\n- House_Style    7 1.7426e+11 2.2541e+12 42735\n- Gr_Liv_Area    1 6.7616e+11 2.7560e+12 43159\n- Overall_Qual   9 1.6464e+12 3.7262e+12 43762\n\nStep:  AIC=42570.35\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air + Roof_Style\n\n                Df  Sum of Sq        RSS   AIC\n+ Half_Bath      1 1.2657e+10 2.0433e+12 42560\n+ Full_Bath      1 1.1807e+10 2.0441e+12 42561\n+ First_Flr_SF   1 8.2634e+09 2.0477e+12 42564\n+ TotRms_AbvGrd  1 7.5653e+09 2.0484e+12 42565\n+ Second_Flr_SF  1 2.5689e+09 2.0534e+12 42570\n<none>                        2.0559e+12 42570\n+ Street         1 1.5834e+09 2.0544e+12 42571\n- Roof_Style     5 2.3879e+10 2.0798e+12 42584\n- Central_Air    1 1.8927e+10 2.0749e+12 42587\n- Fireplaces     1 3.5505e+10 2.0914e+12 42603\n- Lot_Area       1 4.3312e+10 2.0992e+12 42611\n- Bldg_Type      4 5.7137e+10 2.1131e+12 42619\n- Garage_Area    1 7.7724e+10 2.1337e+12 42644\n- House_Style    7 1.5430e+11 2.2102e+12 42705\n- Gr_Liv_Area    1 6.5674e+11 2.7127e+12 43137\n- Overall_Qual   9 1.5782e+12 3.6341e+12 43721\n\nStep:  AIC=42559.68\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air + Roof_Style + \n    Half_Bath\n\n                Df  Sum of Sq        RSS   AIC\n+ Full_Bath      1 2.2460e+10 2.0208e+12 42539\n+ First_Flr_SF   1 1.1168e+10 2.0321e+12 42550\n+ TotRms_AbvGrd  1 6.6957e+09 2.0366e+12 42555\n+ Second_Flr_SF  1 4.4132e+09 2.0389e+12 42557\n<none>                        2.0433e+12 42560\n+ Street         1 1.6758e+09 2.0416e+12 42560\n- Half_Bath      1 1.2657e+10 2.0559e+12 42570\n- Central_Air    1 1.5721e+10 2.0590e+12 42573\n- Roof_Style     5 2.5957e+10 2.0692e+12 42576\n- Fireplaces     1 3.1983e+10 2.0753e+12 42590\n- Lot_Area       1 4.2973e+10 2.0863e+12 42600\n- Bldg_Type      4 5.7342e+10 2.1006e+12 42608\n- Garage_Area    1 7.4966e+10 2.1182e+12 42632\n- House_Style    7 1.6681e+11 2.2101e+12 42707\n- Gr_Liv_Area    1 6.4712e+11 2.6904e+12 43122\n- Overall_Qual   9 1.5761e+12 3.6194e+12 43714\n\nStep:  AIC=42539.01\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air + Roof_Style + \n    Half_Bath + Full_Bath\n\n                Df  Sum of Sq        RSS   AIC\n+ First_Flr_SF   1 1.3554e+10 2.0073e+12 42527\n+ TotRms_AbvGrd  1 7.9202e+09 2.0129e+12 42533\n+ Second_Flr_SF  1 6.1295e+09 2.0147e+12 42535\n<none>                        2.0208e+12 42539\n+ Street         1 1.5161e+09 2.0193e+12 42539\n- Central_Air    1 1.5081e+10 2.0359e+12 42552\n- Roof_Style     5 2.5536e+10 2.0464e+12 42555\n- Full_Bath      1 2.2460e+10 2.0433e+12 42560\n- Half_Bath      1 2.3310e+10 2.0441e+12 42561\n- Fireplaces     1 3.8140e+10 2.0590e+12 42575\n- Lot_Area       1 4.2795e+10 2.0636e+12 42580\n- Bldg_Type      4 7.0416e+10 2.0912e+12 42601\n- Garage_Area    1 6.9447e+10 2.0903e+12 42606\n- House_Style    7 1.7045e+11 2.1913e+12 42691\n- Gr_Liv_Area    1 4.3760e+11 2.4584e+12 42939\n- Overall_Qual   9 1.5073e+12 3.5281e+12 43664\n\nStep:  AIC=42527.21\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air + Roof_Style + \n    Half_Bath + Full_Bath + First_Flr_SF\n\n                Df  Sum of Sq        RSS   AIC\n+ TotRms_AbvGrd  1 9.2160e+09 1.9980e+12 42520\n+ Second_Flr_SF  1 8.9845e+09 1.9983e+12 42520\n<none>                        2.0073e+12 42527\n+ Street         1 1.4992e+09 2.0058e+12 42528\n- First_Flr_SF   1 1.3554e+10 2.0208e+12 42539\n- Central_Air    1 1.5279e+10 2.0225e+12 42541\n- Roof_Style     5 2.5274e+10 2.0325e+12 42543\n- Full_Bath      1 2.4846e+10 2.0321e+12 42550\n- Half_Bath      1 2.8024e+10 2.0353e+12 42554\n- Fireplaces     1 3.4393e+10 2.0417e+12 42560\n- Lot_Area       1 3.7100e+10 2.0444e+12 42563\n- House_Style    7 5.1979e+10 2.0592e+12 42566\n- Garage_Area    1 6.1955e+10 2.0692e+12 42588\n- Bldg_Type      4 7.5956e+10 2.0832e+12 42595\n- Gr_Liv_Area    1 9.7174e+10 2.1044e+12 42622\n- Overall_Qual   9 1.4420e+12 3.4493e+12 43620\n\nStep:  AIC=42519.77\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air + Roof_Style + \n    Half_Bath + Full_Bath + First_Flr_SF + TotRms_AbvGrd\n\n                Df  Sum of Sq        RSS   AIC\n+ Second_Flr_SF  1 8.4078e+09 1.9896e+12 42513\n<none>                        1.9980e+12 42520\n+ Street         1 1.6201e+09 1.9964e+12 42520\n- TotRms_AbvGrd  1 9.2160e+09 2.0073e+12 42527\n- First_Flr_SF   1 1.4850e+10 2.0129e+12 42533\n- Central_Air    1 1.6103e+10 2.0142e+12 42534\n- Roof_Style     5 2.6015e+10 2.0241e+12 42536\n- Full_Bath      1 2.6354e+10 2.0244e+12 42545\n- Half_Bath      1 2.7318e+10 2.0254e+12 42546\n- Fireplaces     1 3.3635e+10 2.0317e+12 42552\n- House_Style    7 4.6648e+10 2.0447e+12 42553\n- Lot_Area       1 3.5234e+10 2.0333e+12 42554\n- Garage_Area    1 6.0006e+10 2.0581e+12 42578\n- Bldg_Type      4 6.6554e+10 2.0646e+12 42579\n- Gr_Liv_Area    1 1.0626e+11 2.1043e+12 42624\n- Overall_Qual   9 1.4449e+12 3.4430e+12 43618\n\nStep:  AIC=42513.12\nSale_Price ~ Overall_Qual + Gr_Liv_Area + House_Style + Garage_Area + \n    Bldg_Type + Lot_Area + Fireplaces + Central_Air + Roof_Style + \n    Half_Bath + Full_Bath + First_Flr_SF + TotRms_AbvGrd + Second_Flr_SF\n\n                Df  Sum of Sq        RSS   AIC\n- Gr_Liv_Area    1 2.0878e+08 1.9898e+12 42511\n<none>                        1.9896e+12 42513\n+ Street         1 1.6751e+09 1.9880e+12 42513\n- Second_Flr_SF  1 8.4078e+09 1.9980e+12 42520\n- TotRms_AbvGrd  1 8.6394e+09 1.9983e+12 42520\n- First_Flr_SF   1 1.6139e+10 2.0058e+12 42528\n- Central_Air    1 1.6361e+10 2.0060e+12 42528\n- Roof_Style     5 2.6070e+10 2.0157e+12 42530\n- Full_Bath      1 2.5226e+10 2.0149e+12 42537\n- Half_Bath      1 2.5401e+10 2.0150e+12 42537\n- House_Style    7 4.2545e+10 2.0322e+12 42543\n- Fireplaces     1 3.3076e+10 2.0227e+12 42545\n- Lot_Area       1 3.5199e+10 2.0248e+12 42547\n- Garage_Area    1 5.8031e+10 2.0477e+12 42570\n- Bldg_Type      4 6.7352e+10 2.0570e+12 42573\n- Overall_Qual   9 1.4395e+12 3.4292e+12 43612\n\nStep:  AIC=42511.34\nSale_Price ~ Overall_Qual + House_Style + Garage_Area + Bldg_Type + \n    Lot_Area + Fireplaces + Central_Air + Roof_Style + Half_Bath + \n    Full_Bath + First_Flr_SF + TotRms_AbvGrd + Second_Flr_SF\n\n                Df  Sum of Sq        RSS   AIC\n<none>                        1.9898e+12 42511\n+ Street         1 1.6987e+09 1.9882e+12 42512\n+ Gr_Liv_Area    1 2.0878e+08 1.9896e+12 42513\n- TotRms_AbvGrd  1 8.4349e+09 1.9983e+12 42518\n- Central_Air    1 1.6410e+10 2.0063e+12 42526\n- Roof_Style     5 2.6087e+10 2.0159e+12 42528\n- Half_Bath      1 2.5433e+10 2.0153e+12 42535\n- Full_Bath      1 2.5541e+10 2.0154e+12 42535\n- House_Style    7 4.2750e+10 2.0326e+12 42541\n- Fireplaces     1 3.3235e+10 2.0231e+12 42543\n- Lot_Area       1 3.5216e+10 2.0251e+12 42545\n- Garage_Area    1 5.7881e+10 2.0477e+12 42568\n- Bldg_Type      4 6.7805e+10 2.0577e+12 42572\n- Second_Flr_SF  1 1.1446e+11 2.1043e+12 42624\n- First_Flr_SF   1 3.5400e+11 2.3438e+12 42845\n- Overall_Qual   9 1.4397e+12 3.4296e+12 43610\n```\n:::\n:::\n\n\n# Issues With Automatic Search Algorithms\n\n-   Biases in parameter estimates, predictions, standard errors\n-   Incorrect calculation of degrees of freedom (p-value method)\n-   P-values that tend to err on the side of overestimating significance\n-   Can result in locally best model (not global)\n\nIn terms of p-value, you should always adjust your $\\alpha$ size based on your sample size.\n\n![Conservative P-Values](images/conservative-p-values.png)",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}