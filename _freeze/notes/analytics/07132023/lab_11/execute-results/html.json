{
  "hash": "567f47d18f253d262c98f601d21a5afa",
  "result": {
    "markdown": "---\ntitle: Lab 11\ndate: 07/13/2023\n---\n\n\n# 1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(AppliedPredictiveModeling)\nlibrary(glmnet)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nLoading required package: Matrix\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nLoaded glmnet 4.1-7\n```\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ tidyr::expand() masks Matrix::expand()\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ tidyr::pack()   masks Matrix::pack()\n✖ tidyr::unpack() masks Matrix::unpack()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ndata(FuelEconomy)\nstr(cars2010)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t1107 obs. of  14 variables:\n $ EngDispl           : num  4.7 4.7 4.2 4.2 5.2 5.2 2 6 3 3 ...\n $ NumCyl             : int  8 8 8 8 10 10 4 12 6 6 ...\n $ Transmission       : Factor w/ 16 levels \"Other\",\"A4\",\"A5\",..: 6 11 11 6 6 11 14 14 14 11 ...\n $ FE                 : num  28 25.6 26.8 25 24.8 ...\n $ AirAspirationMethod: Factor w/ 3 levels \"NaturallyAspirated\",..: 1 1 1 1 1 1 3 3 1 1 ...\n $ NumGears           : int  6 6 6 6 6 6 6 6 6 6 ...\n $ TransLockup        : num  1 1 1 1 0 0 0 0 1 0 ...\n $ TransCreeperGear   : num  0 0 0 0 0 0 0 0 0 0 ...\n $ DriveDesc          : Factor w/ 5 levels \"AllWheelDrive\",..: 5 5 1 1 1 1 1 1 5 5 ...\n $ IntakeValvePerCyl  : int  2 2 2 2 2 2 2 2 2 2 ...\n $ ExhaustValvesPerCyl: int  2 2 2 2 2 2 2 2 2 2 ...\n $ CarlineClassDesc   : Factor w/ 17 levels \"Other\",\"2Seaters\",..: 2 2 2 2 2 2 2 2 2 2 ...\n $ VarValveTiming     : num  1 1 1 1 1 1 1 1 1 1 ...\n $ VarValveLift       : num  0 0 0 0 0 0 0 0 1 1 ...\n```\n:::\n:::\n\n\n## a\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncars2010 <- cars2010 %>%\n    mutate(across(!c(EngDispl, FE), as.factor))\n\nx <- model.matrix(FE ~ ., data = cars2010)[, -1]\ny <- cars2010$FE\ncars2010_lasso <- glmnet(x = x, y = y, data = cars2010, alpha = 1)\nplot(cars2010_lasso, xvar = \"lambda\")\n```\n\n::: {.cell-output-display}\n![](lab_11_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## b\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncars2010_lasso_cv <- cv.glmnet(x = x, y = y, data = cars2010, alpha = 1)\nsprintf(\"Lambda Min: %f\", cars2010_lasso_cv$lambda.min)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Lambda Min: 0.002870\"\n```\n:::\n\n```{.r .cell-code}\nsprintf(\"Lambda 1se: %f\", cars2010_lasso_cv$lambda.1se)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Lambda 1se: 0.089694\"\n```\n:::\n\n```{.r .cell-code}\ncoef(cars2010_lasso, s = c(cars2010_lasso_cv$lambda.min, cars2010_lasso_cv$lambda.1se))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n61 x 2 sparse Matrix of class \"dgCMatrix\"\n                                                        s1          s2\n(Intercept)                                     33.4330547 41.56381395\nEngDispl                                        -2.2515600 -2.64871030\nNumCyl3                                         19.8714674 16.08294170\nNumCyl4                                          5.2098276  2.80326601\nNumCyl5                                          2.3303954  .         \nNumCyl6                                          1.6471031  .         \nNumCyl8                                          .         -0.35233930\nNumCyl10                                        -2.4760490 -1.94293929\nNumCyl12                                        -3.6066709 -3.09165724\nNumCyl16                                        -2.6386639  .         \nTransmissionA4                                  -0.1289561  .         \nTransmissionA5                                   .         -0.07118433\nTransmissionA6                                   .          0.79992685\nTransmissionA7                                   4.4293541  1.14687576\nTransmissionAM6                                 -4.5233550 -2.33569908\nTransmissionAM7                                 -0.5109815 -1.95260587\nTransmissionAV                                  -0.3407425  1.89085628\nTransmissionAVS6                                -2.6423257  .         \nTransmissionM5                                  -0.4234284  .         \nTransmissionM6                                  -2.1092755  .         \nTransmissionS4                                  -3.5982691 -2.56675152\nTransmissionS5                                  -0.6341689 -0.41170358\nTransmissionS6                                  -0.1991123  0.71462465\nTransmissionS7                                   2.7936830  .         \nTransmissionS8                                   .          0.55519141\nAirAspirationMethodSupercharged                 -1.6299305 -0.53737070\nAirAspirationMethodTurbocharged                 -1.1035917 -0.50635048\nNumGears4                                       -2.7678389 -0.50071284\nNumGears5                                       -2.5004485 -0.01449604\nNumGears6                                       -0.8704482  .         \nNumGears7                                       -5.4460909  .         \nNumGears8                                        1.2124264  1.45221734\nTransLockup1                                    -0.8704252 -0.42999697\nTransCreeperGear1                               -1.0218821 -0.31196410\nDriveDescFourWheelDrive                         -0.4425424 -0.21511866\nDriveDescParttimeFourWheelDrive                 -0.2721910  .         \nDriveDescTwoWheelDriveFront                      4.3169571  4.38229982\nDriveDescTwoWheelDriveRear                       1.1841530  1.01500559\nIntakeValvePerCyl1                               7.2995450  1.80802827\nIntakeValvePerCyl2                               5.8560566  .         \nIntakeValvePerCyl3                               0.9449583 -1.14286876\nExhaustValvesPerCyl1                             1.7407865  0.23026484\nExhaustValvesPerCyl2                             0.1803456  .         \nCarlineClassDesc2Seaters                         2.6478930  .         \nCarlineClassDescCompactCars                      3.6646287  1.65977465\nCarlineClassDescLargeCars                        2.4052064  0.16740538\nCarlineClassDescMidsizeCars                      3.2705073  1.29425446\nCarlineClassDescMinicompactCars                  3.4615403  1.05171759\nCarlineClassDescSmallPickupTrucks2WD            -1.9551276 -2.77622589\nCarlineClassDescSmallPickupTrucks4WD            -1.0733032 -2.11462468\nCarlineClassDescSmallStationWagons               2.0462284  .         \nCarlineClassDescSpecialPurposeVehicleminivan2WD -2.1765509 -2.68080231\nCarlineClassDescSpecialPurposeVehicleSUV2WD     -1.6494719 -2.77273354\nCarlineClassDescSpecialPurposeVehicleSUV4WD     -0.7147677 -2.28453688\nCarlineClassDescStandardPickupTrucks2WD         -1.8678699 -2.35575424\nCarlineClassDescStandardPickupTrucks4WD         -2.0868842 -2.99063494\nCarlineClassDescSubcompactCars                   3.2417627  0.78507486\nCarlineClassDescVansCargoTypes                  -4.2072695 -4.47865259\nCarlineClassDescVansPassengerType               -4.4006003 -4.32429849\nVarValveTiming1                                  0.1832049  0.12552736\nVarValveLift1                                    0.8687307  0.95165030\n```\n:::\n:::\n",
    "supporting": [
      "lab_11_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}